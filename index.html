<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Frise chronologique interactive</title>

<style>
body {
  font-family: Arial, sans-serif;
  padding: 40px;
}

#timeline {
  position: relative;
  width: 100%;
  height: 200px;
  border-top: 4px solid black;
  margin-top: 80px;
}

.event {
  position: absolute;
  top: -80px;
  cursor: pointer;
}

.event img {
  width: 80px;
  border: 1px solid black;
}

/* POPUP */
#popup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  border: 2px solid black;
  padding: 20px;
  width: 300px;
  z-index: 10;
}

#popup img {
  width: 100%;
  margin-bottom: 10px;
}

#overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  z-index: 5;
}

.close {
  cursor: pointer;
  text-align: right;
  font-weight: bold;
}
</style>
</head>

<body>

<h1>Frise chronologique – Arts plastiques</h1>

<div id="timeline"></div>

<div id="overlay"></div>

<div id="popup">
  <div class="close" onclick="closePopup()">✖</div>
  <img id="popup-img">
  <div id="popup-date"></div>
  <div id="popup-title"></div>
  <div id="popup-artist"></div>
</div>

<script>
const startYear = -2000;
const endYear = 2026;

const events = [
  {
    year: -1500,
    title: "Peintures rupestres",
    artist: "Anonyme",
    image: "images/lascaux.jpg"
  },
  {
    year: 1503,
    title: "La Joconde",
    artist: "Léonard de Vinci",
    image: "images/joconde.jpg"
  }
];

const timeline = document.getElementById("timeline");
const timelineWidth = timeline.offsetWidth;

events.forEach(event => {
  const position =
    ((event.year - startYear) / (endYear - startYear)) * timelineWidth;

  const div = document.createElement("div");
  div.className = "event";
  div.style.left = `${position}px`;

  div.innerHTML = `<img src="${event.image}">`;

  div.onclick = () => openPopup(event);

  timeline.appendChild(div);
});

function openPopup(event) {
  document.getElementById("popup-img").src = event.image;
  document.getElementById("popup-date").innerHTML = `<strong>${event.year}</strong>`;
  document.getElementById("popup-title").innerHTML = event.title;
  document.getElementById("popup-artist").innerHTML = `<em>${event.artist}</em>`;

  document.getElementById("popup").style.display = "block";
  document.getElementById("overlay").style.display = "block";
}

function closePopup() {
  document.getElementById("popup").style.display = "none";
  document.getElementById("overlay").style.display = "none";
}

document.getElementById("overlay").onclick = closePopup;
</script>

</body>
</html>
